# 開発計画

## 1. 開発手順・優先順位

### フェーズ1：基本CRUD機能
1. 認証機能（Google連携） ✅
2. 在庫管理（追加・編集・削除） ✅
3. レシピ管理（URL保存、食材抽出） ✅
4. 献立計画（カレンダー表示） ✅
5. 買い物リスト（基本機能） ✅

### フェーズ2：自動化機能
1. LLMによる食材自動抽出 ✅
2. 献立からの買い物リスト自動生成 ✅
3. 賞味期限管理・アラート ✅

### フェーズ3：コスト・通知機能（実装済み）
1. コスト管理機能 ✅
2. 通知システム（Web Push API） ✅
3. PWA対応 ✅
4. パフォーマンス最適化 ✅

### フェーズ4：レシートOCR機能
1. Google Vision API統合 ✅
2. TypeScript型定義 ✅
3. エラーハンドリング ✅
4. 構造化データ抽出（予定）

## 2. MVP（最小機能）の定義
- 基本的な献立・在庫・買い物・コスト管理機能 ✅
- レシピURL管理と食材管理 ✅
- 個人利用に最適化された機能セット ✅

## 3. テスト戦略
- **単体機能テスト**：各機能の動作確認
- **手動テスト**：実際の使用シーンでの動作確認
- **TypeScript**による型安全性の確保

## 4. デプロイメント手順
1. **ローカル開発**：`pnpm run dev:netlify`
2. **ビルド**：`pnpm run build:netlify`
3. **自動デプロイ**：GitHub pushでNetlifyに自動デプロイ
4. **データベース**：Supabaseのマイグレーション管理
5. **CI/CD**：GitHub Actionsによる自動ビルド・デプロイ

## 5. 品質管理

### 5.1 コード品質
- **pre-commit hook**: コミット前に自動でlintチェック実行（エラー時はコミット阻止）
- **pre-push hook**: プッシュ前に自動でlint & buildチェック実行（エラー時はプッシュ阻止）
- Git hookにより品質管理が自動化されているため、手動チェックは不要

### 5.2 TypeScript制約
- **変数定義**: 必ず型を記述（`any`は決して使用しない）
- **oxlint抑制コメント**: 決して使用しない
- **根本的な改善**: 型安全性とコード品質の改善で解決

### 5.3 品質チェックコマンド
```bash
pnpm run lint && pnpm run build:netlify
```

## 6. 今後の拡張予定

### 6.1 レシートOCR第二段階
- 商品名・価格・数量の構造化データ抽出
- 在庫への自動追加機能
- 買い物履歴との連携

### 6.2 UI/UX改善
- ダークモード対応
- アクセシビリティ向上
- アニメーション最適化

### 6.3 データ分析機能
- 食費の月別・年別集計
- よく使う食材の分析
- 節約効果の可視化

### 6.4 ソーシャル機能（将来的）
- レシピ共有機能
- 献立テンプレート
- コミュニティ機能

## 7. 技術的課題と解決方針

### 7.1 パフォーマンス
- **課題**: 大量データでの表示速度
- **解決**: 仮想化、ページネーション、キャッシュ戦略

### 7.2 オフライン対応
- **課題**: ネットワーク不安定時の動作
- **解決**: PWA Service Worker、ローカルストレージ活用

### 7.3 型安全性
- **課題**: 複雑なデータ構造の型管理
- **解決**: 厳密な型定義、型ガード関数の活用

## 8. リリース計画

### 8.1 現在の状況
- **本番URL**: https://cooklet.netlify.app
- **基本機能**: すべて実装済み
- **TypeScript移行**: 完了
- **レシートOCR**: 第一段階完了

### 8.2 次回リリース予定
- レシートOCR構造化データ抽出
- UI/UX細部改善
- パフォーマンス最適化

### 8.3 長期計画
- ユーザーフィードバック収集
- 機能拡張の優先度決定
- スケーラビリティ検討