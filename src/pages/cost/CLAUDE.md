# Pages/Cost ディレクトリ

## 概要
コスト管理機能のページコンポーネントを管理するディレクトリ。CLAUDE.md仕様書に準拠した実装。

## ファイル構成

### Cost.tsx
コスト管理画面のメインコンポーネント - CLAUDE.md仕様書に準拠した完全実装。

#### 実装済み機能

**月間サマリー**
- 自炊・外食の金額と回数表示
- 1回平均コストの計算・表示
- 合計支出と回数の表示
- 1日平均・1回平均の計算

**新規記録機能**
- ダイアログ形式の追加画面（CostDialog流用）
- 「追加」ボタンクリックでダイアログ表示
- 既存のCostDialogコンポーネントを新規追加・編集両対応で使用

**支出履歴表示**
- 日付・内容・金額の一覧表示
- 自炊・外食アイコンによる区別
- 編集・削除ボタン（今後実装予定）
- 週間・月間フィルター

**月別推移**
- 過去3ヶ月の支出推移表示
- 現在月のハイライト表示
- 進行中の表示

**月ナビゲーション**
- 前月・次月への移動機能（献立画面と同じスタイル）
- 月表示（YYYY年M月形式）
- グレー背景のナビゲーションボタン
- ホバー効果とトランジション

#### 状態管理

**ローカル状態**
- `currentMonth`: 現在表示中の月
- `showAddDialog`: 新規記録ダイアログ表示状態
- `showCostDialog`: 編集用ダイアログ表示状態
- `editingCost`: 編集中のコストレコード

**サンプルデータ**
- `monthlySummary`: 月間サマリー情報
- `costHistory`: 支出履歴データ
- `monthlyTrend`: 月別推移データ

#### UI設計

**カード型レイアウト**
- セクションごとの白背景カード
- シャドウとボーダーによる区別
- 適切な余白とパディング

**レスポンシブフォーム**
- グリッドレイアウト（日付・金額）
- インライン要素の組み合わせ
- タッチ対応のラジオボタン

**視覚的識別**
- 絵文字アイコンによる機能識別
- 自炊（🏠）・外食（🍽️）の区別
- カラーコーディング

#### 機能詳細

**ダイアログ機能**
- 新規追加・編集の両方でCostDialogコンポーネントを使用
- ダイアログ表示状態を`showAddDialog`・`showCostDialog`で分離管理
- `handleAddCost()`: 新規追加ダイアログを開く
- `handleEditCost()`: 編集ダイアログを開く
- `handleSaveCost()`: 新規追加・編集両対応の保存処理

**月間サマリー計算**
- 自炊・外食別の集計
- 平均値の自動計算
- パーセンテージ表示

**データフォーマット**
- 金額のカンマ区切り表示
- 日付の日本語形式（M/D）
- 通貨記号の統一表示

#### 現在の制限事項

**サンプルデータ使用**
- 実際のCostRecordデータとの連携未実装
- ハードコードされた支出情報

**編集・削除機能未実装**
- 支出履歴の編集機能は今後実装予定
- 削除確認ダイアログは今後実装予定

#### 今後の実装予定

**データ統合**
- useCostRecordsフック作成
- Supabase cost_recordsテーブル連携
- リアルタイムデータ更新

**機能拡張**
- 支出履歴編集・削除機能
- カテゴリ別分析機能
- グラフ表示機能
- エクスポート機能

**検索・フィルター**
- 期間指定検索
- 金額範囲フィルター
- キーワード検索

## 注意点
- CLAUDE.md仕様書の金額表示形式（¥記号、カンマ区切り）に準拠
- 日本語の日付形式（M月D日）を使用
- アイコンは絵文字を使用（Material Iconsではない）
- モバイルファーストのレスポンシブデザイン
- 金額は整数で管理（小数点以下切り捨て）