# Pages/Inventory ディレクトリ

## 概要
在庫管理機能のページコンポーネントを管理するディレクトリ。

## ファイル構成

### Inventory.tsx
在庫一覧表示とメイン操作を行うページコンポーネント。

#### 状態管理
- `showAddModal`: 在庫追加モーダルの表示状態

#### 機能

**在庫一覧表示**
- `useInventory`フックによる在庫データ取得
- ingredientsテーブルとのJOIN結果表示
- 作成日降順での並び替え

**賞味期限管理**
- 期限切れアイテムの赤色ハイライト表示
- 期限間近（3日以内）アイテムの黄色ハイライト表示
- 期限状態別のメッセージ表示

**アイテム詳細表示**
- 食材名、カテゴリバッジ
- 数量・単位、保存場所
- 賞味期限（期限状態付き）
- 購入価格
- 作り置きフラグ

**UI要素**
- 在庫追加ボタン
- カテゴリ別色分けバッジ
- ローディング・エラー状態表示
- 空データ時のメッセージ

#### ヘルパー関数
- `isExpiringSoon()`: 賞味期限間近判定（3日以内）
- `isExpired()`: 期限切れ判定

### AddInventoryModal.tsx
在庫追加用のモーダルコンポーネント。

#### Props
- `onClose`: モーダル閉じるコールバック
- `onSuccess`: 追加成功時のコールバック
- `addInventoryItem`: 在庫追加関数

#### 状態管理
- `loading`: 処理中状態
- `formData`: フォーム入力データ（食材ID、カスタム食材名、数量、単位等）

#### 機能

**食材選択**
- 既存食材リストからの選択
- 新規食材の動的追加
- ラジオボタンによる選択方式切り替え

**フォーム入力**
- 数量・単位（必須）
- 保存場所（冷蔵庫・冷凍庫・常温）
- 賞味期限（任意）
- 購入価格・購入日（任意）
- 作り置きフラグ

**バリデーション**
- 必須項目チェック
- 数値形式チェック
- 食材選択・入力の相互排他制御

**新規食材追加**
- `useIngredients`フックとの連携
- カテゴリは自動的に'others'に設定
- デフォルト単位の自動設定

#### UI設計
- モーダルオーバーレイ
- グリッドレイアウト（数量・単位の横並び）
- アクセシビリティ対応
- レスポンシブデザイン

## データフロー
1. 既存食材リスト取得（useIngredients）
2. フォーム入力・バリデーション
3. 新規食材追加（必要に応じて）
4. 在庫アイテム作成
5. 一覧データ更新・モーダル閉じる

## 注意点
- 現在のテーブル構造（inventoryテーブル）と仕様書（stock_itemsテーブル）で名称が異なる
- 食材カテゴリの英語表記と日本語表記の混在
- 編集・削除機能が未実装
- バーコードスキャン機能は未実装（将来拡張予定）